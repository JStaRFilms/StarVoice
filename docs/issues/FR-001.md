# [FR-001] Global Shortcut Recording

## Labels
`MUS`, `core`, `tauri`, `shortcuts`

## User Story
As a user, I want to press a global keyboard shortcut to start recording audio from anywhere on my system, so that I can quickly capture my voice without switching to the app.

## Proposed Solution

### Overview
Implement a system-wide keyboard shortcut that triggers audio recording, even when the app is not focused. The shortcut should be configurable and work across all applications.

### Implementation Flow
1. User presses configured global shortcut (default: `Ctrl+Shift+R`)
2. Tauri backend captures the shortcut via global-shortcut plugin
3. Backend emits event to frontend
4. Frontend shows recording overlay UI
5. Audio recording begins via Web Audio API
6. Press shortcut again (or Escape) to stop recording

### Technical Approach

**Rust Backend:**
```rust
// src-tauri/src/shortcuts.rs
use tauri_plugin_global_shortcut::{GlobalShortcutExt, Shortcut};

pub fn register_shortcuts(app: &mut tauri::App) -> Result<(), String> {
    let shortcut = Shortcut::new(Some(Modifiers::CONTROL | Modifiers::SHIFT), Code::KeyR);
    
    app.global_shortcut()
        .on_shortcut(shortcut, |app, shortcut, event| {
            if event.state() == ShortcutState::Pressed {
                app.emit("toggle-recording", ());
            }
        })
        .map_err(|e| e.to_string())?;
    
    Ok(())
}
```

**Frontend:**
```typescript
// src/hooks/useGlobalShortcut.ts
import { listen } from '@tauri-apps/api/event';

export function useGlobalShortcut(onToggle: () => void) {
  useEffect(() => {
    const unlisten = listen('toggle-recording', onToggle);
    return () => { unlisten.then(f => f()); };
  }, [onToggle]);
}
```

### Key Considerations
- Shortcut conflicts with other apps must be handled gracefully
- Provide visual feedback when shortcut is pressed
- Support Windows, macOS, and Linux key mappings
- Store user preference in settings

## Acceptance Criteria

- [ ] Global shortcut `Ctrl+Shift+R` triggers recording start/stop
- [ ] Shortcut works when app is not focused
- [ ] Recording overlay appears within 200ms of shortcut press
- [ ] Shortcut is configurable in settings
- [ ] Visual toast shows when recording starts/stops
- [ ] Escape key cancels active recording
- [ ] Shortcut registration handles conflicts gracefully
